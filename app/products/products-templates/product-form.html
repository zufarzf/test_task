{% extends 'basic.html' %}


{% block headTitle %} Добавить товар {% endblock headTitle %}


{% block bodyAttr %}
    data-menu-color="dark"
    data-sidebar="default"
{% endblock bodyAttr %}


{% block beginPage %}
    <div class="content">

        <!-- Start Content-->
        <div class="container-xxl">

            <div class="py-3 d-flex align-items-sm-center flex-sm-row flex-column">
                <div class="flex-grow-1">
                    <h4 class="fs-18 fw-semibold m-0"> Добавить товар </h4>
                </div>

                <div class="text-end">
                    <ol class="breadcrumb m-0 py-0">
                        <li class="breadcrumb-item"><a href="{{ url_for('products.main') }}"> Товары </a></li>
                        <li class="breadcrumb-item active"> Добавить товар </li>
                    </ol>
                </div>
            </div>

            <!-- start row -->
            <div class="row d-flex align-items-center justify-content-center">

                <div class="col-lg-6">
                    <div class="card">

                        <div class="card-body">
                            <form method="post" action="{{ url_for('products.add_product_form', product_id=product_id) }}" class="my-4">
                                {{ form.csrf_token }}

                                <div class="mb-3">
                                    <label for="category" class="form-label">Категория</label>
                                    
                                    <div class="dropdown-field-container">
                                        {{ form.category(class='form-control dropdown-field', placeholder="Выберите категорию товара") }}
                                        {{ form.category_id(class='dropdown-hiddenField') }}
                                        
                                        <div class="dropdown-field-list-wrapper">
                                            <div
                                                class="dropdown-field-list"
                                                autofill-handler="get-categories-for-dropdown"
                                            ></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="name" class="form-label">Название</label>
                                    {{ form.name(class='form-control', placeholder="Введите название товара") }}
                                </div>

                                <div class="mb-3">
                                    <label for="price" class="form-label">Цена</label>
                                    {{ form.price(class='form-control numeric-field', placeholder="Введите цену товара") }}
                                </div>

                                <div class="form-submitBtns">
                                    <a href="{{ url_for('products.main') }}">
                                        <button type="button" class="btn btn-primary"> Вернуться </button>
                                    </a>
                                    
                                    <div class="form-submitBtns-wrapper">
                                        <button type="submit" class="btn btn-success"> Сохранить </button>
                                    </div>
                                </div>

                            </form>
                        </div>

                    </div>
                </div>

            </div>
            <!-- end row -->

        </div> 
        <!-- container-fluid -->
    </div> 
    <!-- content -->
{% endblock beginPage %}